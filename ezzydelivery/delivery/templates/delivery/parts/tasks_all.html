{% extends "fleet/fleet_dashboard.html" %}
{% load static %}
{% load crispy_forms_tags %}


{% block title %} FLEET DASHBOARD
{% endblock title %}
{% block extra_css %}
{% endblock extra_css %}

{% block widget %}
<div class="table-responsive">
    <table class="table table-striped table-hover my-3 fw-lighter ">
        <tr>
            <th>Task Date</th>

            <th>Speed - Time Slot</th>
            <th>Sender -Pickup</th>
            <th>Delivery Location</th>
            <th>Task Status</th>
            <th></th>

        </tr>
        {% for card in cards %}
        <tr
            data-order-id="{{ card.id }}"
            class="data-order-row"
        >

            <td>{{ card.dl_task_date }}</td>
            <td>{{ card.dl_speed }}-{{ card.dl_to_address.time_slot }}</td>
            <td>{{ card.business.business_business_name }}-{{ card.pickup_location.pickup_location_title }} </td>
            <td>{{card.dl_to_address.zone_name}}</td>
            <td>{{ card.dl_task_status }}</td>
            <td><a
                    data-bs-toggle="collapse"
                    data-bs-target="#collapse-{{ card.id }}"
                    aria-expanded="false"
                    aria-controls="collapse-{{ card.id }}"
                    class="my-5"
                ><i class=" fa-solid fa-angles-right text-secondary "></i>
                </a></td>


        </tr>
        <tr
            class="collapse"
            id="collapse-{{ card.id }}"
        >
            <td colspan="9">
                <div class="card h-100 w-100 m-0">
                    <div class="card-body ">
                        <div class="expand row">
                            <div class="col-12 col-md-4">
                                <table class="table fs-6">
                                    <span class="fw-bold">From:</span>
                                    <tr>
                                        <th class=" fw-light p-0 col-5">Pickup Loc:</th>
                                        <td class="fw-light p-0">{{ card.order.business.pickup_location}}</td>
                                    </tr>
                                    <tr>
                                        <th class="fw-light p-0">Business Name</th>
                                        <td class="fw-light p-0">{{ card.order.business.business_business_name }}
                                        </td>
                                    </tr>
                                    <tr>
                                        <th class="fw-light p-0">Task ID</th>
                                        <td class="fw-light p-0">{{ card.dl_task_number }}</td>
                                    </tr>
                                    <tr>
                                        <th class="fw-light p-0">Business Name</th>
                                        <td class="fw-light p-0">{{ card.business.pickup_location }}</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="col-12 col-md-4">
                                <table class="table ">
                                    <span class="fw-bold">To:</span>
                                    <tr
                                        class=""
                                        id="collapse-{{ card.id }}"
                                    >
                                        <th class="fw-light p-0 col-5">Zone No & Place:</th>
                                        <td class="fw-light p-0">{{ card.dl_to_address.zone_number}}-
                                            {{card.dl_to_address.zone_name}}</td>
                                    </tr>
                                    <tr>
                                        <th class="fw-light p-0">St & Bld No:</th>
                                        <td class="fw-light p-0">{{ card.dl_to_address.street_no}}-
                                            {{card.dl_to_address.building_no}}
                                        </td>
                                    </tr>
                                    <tr>
                                        <th class="fw-light p-0">Custumer Name:</th>
                                        <td class="fw-light p-0">{{ card.dl_task_number }}</td>
                                    </tr>
                                    <tr>
                                        <th class="fw-light p-0">Order Title:</th>
                                        <td class="fw-light p-0">{{ card.dl_task_description }}</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="col-12 col-md-4">
                                <table class="table ">
                                    <span class="fw-bold">Details:</span>
                                    <tr>
                                        <th class="fw-light p-0 col-5">COD Amount:</th>
                                        <td class="fw-light p-0">{{ card.order.cod_amount}}</td>
                                    </tr>
                                    <tr>
                                        <th class="fw-light p-0">Delivery charge</th>
                                        <td class="fw-light p-0">{{ card.dl_price }}
                                        </td>
                                    </tr>
                                    <tr>
                                        <th class="fw-light p-0">Weight</th>
                                        <td class="fw-light p-0">{{ card.dl_waight }}</td>
                                    </tr>
                                    <tr>
                                        <th class="fw-light p-0">Status</th>
                                        <td class="fw-light p-0">{{ card.dl_task_status}}</td>
                                    </tr>
                                </table>
                            </div>
                        </div></div>    
                </div >
                        <div class="col-12 p-3  d-flex justify-content-end">
                            <a href="#">
                                <button class="btn btn-success accept-order-btn">Accept Order</button>
                            </a>
                        </div>
               
            </td>
        </tr>

        {% endfor %}
    </table>
</div>


{% endblock widget %}
{% block extra_js %}





{% endblock extra_js %}